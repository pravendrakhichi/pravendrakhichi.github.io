<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Projects Timeline – Pravendra Singh Khichi</title>
    <link rel="stylesheet" href="style.css"/>
</head>
<body>
<!-- reuse existing sticky nav -->
<header>
    <div class="container nav-container">
        <a href="index.html" class="logo">PSK</a>
        <nav>
            <ul>
                <li><a href="index.html#about">About</a></li>
                <li><a href="projects-timeline.html">Projects</a></li>
                <li><a href="blog/index.html">Blog</a></li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
        </nav>
    </div>
</header>

<!-- TIME-SLIDER BAR (same styling as articles) -->
<section class="time-slider-bar">
    <div class="container">
        <label for="projectSlider">Jump to month:</label>
        <input type="range" id="projectSlider" min="0" max="11" value="0" step="1">
        <span id="sliderLabel">Jan 2024</span>
    </div>
</section>

<!-- PROJECT CARDS (chronological order) -->
<section id="projects-timeline" class="container">
    <h2>Projects Timeline</h2>

    <div class="projects-grid">
        <!-- Jan 2024 -->
        <article class="project-card scroll-target" id="proj-2024-01" data-date="2024-01-15">
            <img src="assets/bod-master.png" alt="BOD Refresh Master"/>
            <h3>BOD Refresh Master</h3>
            <p>Automated daily banking operations, cutting manual overhead by 90 %.</p>
            <div class="tags"><span>Java</span><span>Spring Batch</span><span>Oracle</span></div>
            <a href="https://github.com/pravendrakhichi/bod-refresh" target="_blank" class="link">Code <i class="fab fa-github"></i></a>
        </article>

        <!-- May 2024 -->
        <article class="project-card scroll-target" id="proj-2024-05" data-date="2024-05-10">
            <img src="assets/api-aggregator.png" alt="API Aggregator"/>
            <h3>API Aggregator</h3>
            <p>Middleware layer enabling seamless integrations & format transformation.</p>
            <div class="tags"><span>Spring Boot</span><span>Redis</span><span>Docker</span></div>
            <a href="https://github.com/pravendrakhichi/api-aggregator" target="_blank" class="link">Code <i class="fab fa-github"></i></a>
        </article>

        <!-- Sep 2024 -->
        <article class="project-card scroll-target" id="proj-2024-09" data-date="2024-09-03">
            <img src="assets/charge-master.png" alt="Charge Wise Master"/>
            <h3>Charge Wise Master API</h3>
            <p>Compliance-driven microservice for automated charge calculation.</p>
            <div class="tags"><span>Java</span><span>TDD</span><span>JUnit5</span></div>
            <a href="https://github.com/pravendrakhichi/charge-master" target="_blank" class="link">Code <i class="fab fa-github"></i></a>
        </article>
    </div>
</section>

<footer>
    <p>© 2025 Pravendra Singh Khichi</p>
</footer>

<!-- SMALL SCRIPT FOR SLIDER -->
<script>
    const slider   = document.getElementById('projectSlider');
    const label    = document.getElementById('sliderLabel');
    const cards    = document.querySelectorAll('.project-card[data-date]');

    /* slider range = Jan 2024 – Dec 2024 */
    const startDate = new Date('2024-01-01');
    const endDate   = new Date('2024-12-01');

    function idxToDate(idx){
        return new Date(startDate.getFullYear(), startDate.getMonth() + idx, 1);
    }

    function updateLabel(idx){
        const d = idxToDate(idx);
        label.textContent = d.toLocaleString('default',{month:'short', year:'numeric'});
    }
    updateLabel(0);

    function scrollToClosest(idx){
        const targetDate = idxToDate(idx);
        let closest = cards[0];
        let minDiff = Infinity;

        cards.forEach(card=>{
            const cardDate = new Date(card.dataset.date);
            const diff = Math.abs(cardDate - targetDate);
            if(diff < minDiff){
                minDiff = diff;
                closest = card;
            }
        });

        closest.scrollIntoView({behavior:'smooth', block:'center'});
        closest.classList.add('scroll-target');
        setTimeout(()=>closest.classList.remove('scroll-target'), 800);
    }

    slider.addEventListener('input', e=>{
        const idx = parseInt(e.target.value, 10);
        updateLabel(idx);
        scrollToClosest(idx);
    });
</script>
</body>
</html>